<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage order and product relationship</title>
</head>
<body>
  <div class="home">
    <a href="home">Dashboard</a>
  </div>

  <h1 align="center">Orders_Products</h1>
  <p align="center">Records the M:M relationships between Orders and Products</p>
  <br>

    <table border="1" align="center" width = 500px>
      <caption><b>All Orders</b></caption>
        <tr align="center">
          <th>orderID</th>
          <th>customerID</th> 
          <th>quantity</th>
          <th>totalCost</th>
          <th>status</th>
          <th>shipmentStatus</th>
        </tr>

    <tbody align="center">
      {% for r in order_rows %}
      <tr>
          <td> {{ r[0] }}</td>
          <td> {{ r[1] }}</td>
          <td> {{ r[2] }}</td>
          <td> {{ r[3] }}</td>
          <td> {{ r[4] }}</td>
          <td> {{ r[5] }}</td>
      </tr>
    {% endfor %}
  </tbody>

      </table>
    <br>
    <br>

    <table border="1" align="center" width = 500px>
      <caption><b>All Products</b></caption>
        <tr align="center">
          <th>ID</th>
          <th>name</th>
          <th>quantity</th>
          <th>cost in dollar</th>

      <tbody align="center">
      {% for r in product_rows %}
      <tr>
          <td> {{ r[0] }}</td>
          <td> {{ r[1] }}</td>
          <td> {{ r[2] }}</td>
          <td> {{ r[3] }}</td>
      </tr>
    {% endfor %}
  </tbody>
    
        </tr>

      </table>
    <br>
    <br>
    <br>

    <fieldset>
      <table border="1" align="center" width = 500px>
        <caption><b>Orders and Products </b></caption>
          <thead align="center">
         
            <th>OrderID</th>
            <th>ItemID</th>
            <th>Quantity</th>
            <th>Delete Button</th>
          </thead>

        <tbody align="center">
         {% for r in rows %}
          <tr>
              <td> {{ r[1] }}</td>
              <td> {{ r[2] }}</td>
              <td> {{ r[3] }}</td>
              <td> <input type='button' name='Delete' value='Delete' onclick="window.location = '/order_product_delete/{{r[0]}}'"> </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </fieldset>

    <br>
    <br>
    <br>
    <fieldset>
      <div align="center">
        <h4>Add New Record</h4>
        <form method="post">
          <input type="number" name="orderID" placeholder="orderID" min = "0" />
          <label for="itemID">itemID</label>
             <select id="itemID" name="itemID"  >
                    {% for product_row in product_rows %}
                    <option value={{product_row[0]}}>{{product_row[1]}}</option>
                    {% endfor %}
             </select>
          <label for="quantity">quantity</label>
          <input type="number" name="quantity">
          <input type="submit" value="Add">
        </form>
  
          </tr>
        </div>
    </fieldset>
    <br>
    <br>
    <br>
    <fieldset>
      <div align="center">
        <h4>Search by Orders or Products</h4>
        <form>
        <label for="orderID">orderID</label>
        <input type="orderID" name="search_orderID">
        <label for="itemID">itemID</label>
        <input type="itemID" name="search_itemID">
        <input type="submit" value="Submit">
        <input type="submit" value="Clear">
        </div>
        </form>
    </fieldset>




</body>
</html>